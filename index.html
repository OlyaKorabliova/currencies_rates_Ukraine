<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdn.jsdelivr.net/npm/vega@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script>

    <title>Vega-Lite Chart</title>
</head>
<body>
<div style="display: flex; flex-direction: column; align-items: center">
    <div style="margin: 8px">
        This chart shows how specific currencies have been changing in Ukraine since 1999
    </div>
    <div id="viz"></div>
</div>

</body>

<script>
    var chart = {
        "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
        "height": 300,
        "width": 450,
        "data": {
            "url": "search_results.csv"
        },
        "mark": "line",
        "encoding": {
            "x": {
                "field": "date",
                "type": "temporal",
                "timeUnit": "year",
                "title": null
            },
            "y": {
                "aggregate": "mean",
                "field": "rate",
                "type": "quantitative",
                "title": "Mean currencies' rates",
                "nice": true
            },
            "color": {
                "field": "currency",
                "type": "nominal",
                "sort": ["EUR", "USD", "CAD", "AUD", "PLN"]
            }
        }
    };

    var opts = {
        "actions": false
    };

    vegaEmbed('#viz', chart, opts);
</script>
</html>